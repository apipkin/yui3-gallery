YUI.add("couch-view",function(f){var a=f.Lang,d=a.isBoolean,b=a.isNumber,c="couch:error",e="couch:data";f.namespace("Couch").View=f.Base.create("couch-view",f.Couch.Base,[],{_uri:"",initializer:function(g){this.publish(e,{defaultFn:this._defDataFn});},fetchData:function(){var k=this._getDataSource(true),i=this._uri,j={success:f.bind(function(l){this.fire(e,{response:f.JSON.parse(l.response.results[0].responseText)});},this),failure:f.bind(function(l){this.fire(c,{message:"An error occurred fetching the information for the databases: "+l.error.message});},this)},h=this.getAttrs(),g={};f.Object.each(h,function(n,l,m){if(n===null||n===undefined){return;}if(l==="baseURI"||l==="name"||l==="dataSource"||l==="destroyed"||l==="initialized"||l==="data"){return;}g[l]=n;});k.set("source",i);k.sendRequest({cfg:{headers:{"Content-Type":"application/json"},method:"GET",data:g},callback:j});return k;},_baseURISetter:function(g){this._uri=g+"/_view/"+this.get("name");return g;},_nameSetter:function(g){this._uri=this.get("baseURI")+"/_view/"+g;return g;},_defDataFn:function(g){this._set("data",g.response);}},{ATTRS:{baseURI:{setter:"_baseURISetter"},name:{value:"",setter:"_nameSetter"},data:{},descending:{value:false,validator:d},endkey:{},"endkey_docid":{},group:{value:false,validator:d},"group_level":{},"include_docs":{value:false,validator:d},"inclusive_end":{value:true,validator:d},key:{},limit:{validotor:b},reduce:{validator:d},skip:{value:0,validator:b},stale:{validator:function(g){return(g==="ok"||g==="update_after");}},startkey:{},"startkey_docid":{}}});},"@VERSION@",{requires:["couch-base"]});